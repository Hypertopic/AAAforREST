{
  "port": 1337,
  "sites": [{
    "hostProxy": "cassandre.local",
    "port": 5984,
    "path": "/cassandre/_design/cassandre/_rewrite",
    "hideLocationParts": 1,
    "authentication": [
      {"login": "alice", "password": "whiterabbit"},
      {"login": "mrwhite", "password": "alice"}
    ],
    "restricted": {
      "iamlate": ["mrwhite"]
    },
    "rules": [{
      "control": "method != 'GET' || /Wonderland/.test(path)",
      "action": "authenticate(context,function(){authorize(context,function(){proxyWork(context)})})"
    }]
  },{
    "hostProxy": "traduxio.local",
    "port": 5984,
    "path": "/traduxio/_design/traduxio/_rewrite",
    "hideLocationParts": 1,
    "authentication": [
      {"login": "alice", "password": "whiterabbit"}
    ],
    "rules": [{
      "control": "/works/.test(path)",
      "action": "authenticate(context, function(){proxyWork(context);});"
    }]
  }]
}
