{
  "port": 80,
  "sites": [{
    "hostProxy": "acme.com",
  	"host": "tex.avery.org",
  	"port": 7777,
  	"path": "",
    "logFile": "log/acme.log",
    "couchDBCompat": false,
    "rewritePath": {
      "enable": true,
      "headersOffset": 0
    },
    "hideAuth": true,
    "authentication": [
      {"url": "ldap://ldap.acme.com", "id": "cn", "dn": "dc=acme,dc=com"}
    ],
    "restricted": {
      "rocket": ["will.coyote"],
      "magnet": ["will.coyote"],
      "false hole": ["will.coyote"],
      "rifle": ["elmer.fudd"],
      "ammo": ["elmer.fudd"]
    },
    "rules": [{
      "control": "request.method != 'GET'",
      "action": "authenticate(context, function(){AuthorizList(context, function(){proxyWork(context);});});",
      "final": true
      }, {
      "control": "true",
      "action": "proxyWork(context);",
      "final": true
    }]
  }, {
    "hostProxy": "test.acme.shop.com",
  	"host": "tex.test.server.com",
  	"port": 1337,
  	"path": "/test/shop/acme/path",
    "logFile": "test_shop_acme.log",
    "rewritePath": {
      "enable": true,
      "headersOffset": 0
    },
    "hideAuth": true,
    "authentication": [
      {"url": "ldap://ldap.acme.com", "id": "uid", "dn": "dc=acme,dc=com"},
      {"url": "ldap://ldap.acme.org", "id": "cn", "dn": "dc=acme,dc=org"},
      {"login": "roadrunner", "password": "bipbip"}
    ],
    "rules": [{
      "control": "request.method != 'GET'",
      "action": "authenticate(context, function(){proxyWork(context);});",
      "final": true
    },{
      "control": "true",
      "action": "proxyWork(context);",
      "final": true
    }]
  }
]}
